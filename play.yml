---
 - hosts: localhost
   become: true
   tasks:
    - name: create a dockerfile
      shell: sudo docker build -t stackimage:1.0 .
    - name: docker tag
      shell: docker tag stackimage:1.0 nithin246/stackimage1
    - name: Log into DockerHub
      docker_login:
        username: nithin246
        password: 9845617126
        email: nithinnith24@gmail.com
    - name: push image
      shell: docker push nithin246/stackimage1
    - name: pull image
      shell: docker pull nithin246/stackimage1
    - name: creating docker container
      shell: docker run -d -p 8086:8086 nithin246/stackimage1
